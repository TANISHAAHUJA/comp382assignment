\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usetikzlibrary{automata,positioning}

\title{Proof: The Reverse of a Regular Language is Regular}
\author{Tanisha Ahuja \and Natasha}
\date{\today}

\begin{document}
\maketitle

\section{Problem Statement}
For any DFA $M$, prove that the reverse of strings in $L(M)$, that is $(L(M))^R = \{ w^R \mid w \in L(M) \}$, is regular.

\section{Proof Strategy}
We will prove this by construction. Given a DFA $M$, we will:
\begin{enumerate}
    \item Convert $M$ to an NFA $M'$ that accepts the reverse language
    \item Show that $M'$ is a valid NFA
    \item Since NFAs recognize regular languages, this proves $(L(M))^R$ is regular
\end{enumerate}

\section{Construction}
Given a DFA $M = (Q, \Sigma, \delta, q_0, F)$, we construct an NFA $M' = (Q \cup \{s_0\}, \Sigma, \delta', s_0, \{q_0\})$ where:
\begin{itemize}
    \item $s_0$ is a new start state (not in $Q$)
    \item The alphabet $\Sigma$ remains the same
    \item The transition function $\delta'$ includes:
    \begin{itemize}
        \item For each transition $\delta(q,a) = p$ in $M$, add transition $\delta'(p,a) = q$ in $M'$
        \item For each state $f \in F$, add $\varepsilon$-transition $\delta'(s_0,\varepsilon) = f$
    \end{itemize}
    \item The original start state $q_0$ becomes the only accepting state
    \item All other aspects of the states remain the same
\end{itemize}

\section{Example}
\begin{center}
\textbf{Original DFA}\\[2ex]
\begin{tikzpicture}[auto,node distance=2.5cm]
    % Original DFA
    \node[state,initial] (q0) {$q_0$};
    \node[state,right of=q0] (q1) {$q_1$};
    \node[state,accepting,right of=q1] (q2) {$q_2$};
    
    \path[->]
        (q0) edge[loop above] node{0} (q0)
        (q0) edge[above] node{1} (q1)
        (q1) edge[loop above] node{1} (q1)
        (q1) edge[above] node{0} (q2)
        (q2) edge[loop above] node{0} (q2)
        (q2) edge[bend left=40] node{1} (q0);
\end{tikzpicture}

\vspace{2cm}

\textbf{Reversed NFA (with $\varepsilon$-transitions)}\\[2ex]
\begin{tikzpicture}[auto,node distance=2.5cm]
    % Reversed NFA
    \node[state,initial] (s0) {$s_0$};
    \node[state,right of=s0] (q2) {$q_2$};
    \node[state,right of=q2] (q1) {$q_1$};
    \node[state,accepting,right of=q1] (q0) {$q_0$};
    
    \path[->]
        (s0) edge[above] node{$\varepsilon$} (q2)
        (q2) edge[loop above] node{0} (q2)
        (q2) edge[above] node{0} (q1)
        (q1) edge[loop above] node{1} (q1)
        (q1) edge[above] node{1} (q0)
        (q0) edge[loop above] node{0} (q0)
        (q0) edge[bend right=40] node{1} (q2);
\end{tikzpicture}
\end{center}

\section{Example String Processing}
For the string "10110":
\[ q_0 \xrightarrow{1} q_1 \xrightarrow{0} q_2 \xrightarrow{1} q_0 \xrightarrow{1} q_1 \xrightarrow{0} q_2 \]

For its reverse "01101":
\[ s_0 \xrightarrow{\varepsilon} q_2 \xrightarrow{0} q_1 \xrightarrow{1} q_0 \xrightarrow{1} q_0 \xrightarrow{0} q_1 \xrightarrow{1} q_0 \]

\section{Proof of Correctness}
Let $w = a_1a_2...a_n$ be a string in $L(M)$. Then there exists a sequence of states 
$r_0,r_1,...,r_n$ in $M$ where:
\begin{itemize}
    \item $r_0 = q_0$
    \item $\delta(r_i,a_{i+1}) = r_{i+1}$ for $0 \leq i < n$
    \item $r_n \in F$
\end{itemize}

In $M'$, we can follow the reverse path for $w^R = a_n...a_2a_1$:
\begin{itemize}
    \item Start from $s_0$ and use $\varepsilon$-transition to reach $r_n$
    \item Follow reversed transitions
    \item End at $r_0$ (which is the accepting state in $M'$)
\end{itemize}

Therefore, $w^R$ is accepted by $M'$ if and only if $w$ is accepted by $M$.

\end{document}
